// var http=require('http');
// var server=http.createServer(function(req,res){
// 	if(req.url!=='/favicon.icn'){
// 		res.on('close',function(){//监听客户端关闭事件
// 				console.log('连接被中断');
// 			});
// 		req.on('data',function(data){
// 			console.log('服务器端接收到数据：'+data);
// 		})
// 		setTimeout(function(){
//           res.setHeader('Content-Type','text/html');
//           res.write('<html><head><meta charset="utf-8"/></head></html>');
//           res.write('你好');
//           res.end();	
// 		}, 5000);
// 	}
// }).listen(1337,'127.0.0.1');


var http=require('http');
var server=http.createServer(function(req,res){
	if(req.url!=="/favicon.icn"){
		req.on('data',function(data){///监听客户端发送过来的数据
			console.log("服务器端接收到数据："+data);	
			res.write('确认数据：'+data);		
		});
		req.on('end',function(){
			res.addTrailers({'Content-MD5':'7895bf48828b55ceaf47747b4bca667'});
			res.end();
		});

	}
}).listen(1338,'127.0.0.1');